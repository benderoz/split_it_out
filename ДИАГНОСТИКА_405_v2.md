# üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—à–∏–±–∫–∏ HTTP 405 (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è)

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —á–µ–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ–ª—É—á–∞–µ–º –æ—à–∏–±–∫—É HTTP 405, –Ω–æ curl —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ.

## –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
```
http://localhost:3000/debug-405.html
```

–≠—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç:
- ‚úÖ Health check API
- ‚úÖ POST –∑–∞–ø—Ä–æ—Å –±–µ–∑ —Ñ–∞–π–ª–∞  
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–∞ (–≤—ã–±–µ—Ä–∏—Ç–µ –ª—é–±–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±—Ä–∞—É–∑–µ—Ä–µ

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–µ—Ä —Å–º–æ—Ç—Ä–∏—Ç–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.

### –®–∞–≥ 3: –û—Ç–∫—Ä–æ–π—Ç–µ Developer Tools (F12)
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Network**
- –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–∞
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–∞–∫–∏–µ HTTP –∑–∞–ø—Ä–æ—Å—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

### 1. –ö—ç—à –±—Ä–∞—É–∑–µ—Ä–∞
**–†–µ—à–µ–Ω–∏–µ**: Ctrl+F5 –¥–ª—è –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

### 2. –ü—Ä–æ–±–ª–µ–º–∞ —Å –æ—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
**–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ï—Å–ª–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ—Ç - –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–¥–µ

### 3. –ü—Ä–æ–±–ª–µ–º–∞ —Å CORS preflight
**–°–∏–º–ø—Ç–æ–º—ã**: –í Network –≤–∏–¥–Ω—ã OPTIONS –∑–∞–ø—Ä–æ—Å—ã —Å –æ—à–∏–±–∫–∞–º–∏

### 4. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
**–ü—Ä–æ–≤–µ—Ä–∫–∞**: –°–º–æ—Ç—Ä–∏—Ç–µ –≤ Network –≤–∫–ª–∞–¥–∫–µ –∫—É–¥–∞ –∏–º–µ–Ω–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å

### 5. –í–Ω–µ—à–Ω–∏–π –ø—Ä–æ–∫—Å–∏/nginx
**–°–∏–º–ø—Ç–æ–º—ã**: HTML –æ—Ç–≤–µ—Ç —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º —Å–µ—Ä–≤–µ—Ä–∞ (nginx, apache –∏ —Ç.–¥.)

## –ß—Ç–æ –¥–µ–ª–∞—Ç—å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

### ‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ - –Ω–µ—Ç
–ü—Ä–æ–±–ª–µ–º–∞ –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–¥–µ:
1. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+F5)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—Ç–∞—Ä—ã–µ cached –≤–µ—Ä—Å–∏–∏ —Ñ–∞–π–ª–æ–≤

### ‚ùå –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–∂–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç  
–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –Ω–µ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –ø—Ä–æ–∫—Å–∏
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–æ—Ä—Ç 3000 —Å–≤–æ–±–æ–¥–µ–Ω

### ‚ö†Ô∏è –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ Health check, POST –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
–ü—Ä–æ–±–ª–µ–º–∞ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π Express:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ middleware –≤ server.js
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É multer

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
curl -s http://localhost:3000/api/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ POST –±–µ–∑ —Ñ–∞–π–ª–∞  
curl -s -X POST http://localhost:3000/api/upload-receipt

# –ü—Ä–æ–≤–µ—Ä–∫–∞ OPTIONS (preflight)
curl -X OPTIONS http://localhost:3000/api/upload-receipt \
  -H "Origin: http://localhost:3000" \
  -H "Access-Control-Request-Method: POST"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å —Ñ–∞–π–ª–æ–º
curl -s -X POST http://localhost:3000/api/upload-receipt \
  -F "receipt=@test-image.png"
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Å–æ–æ–±—â–∏—Ç–µ:
1. **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã** (–∫–∞–∫–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏/–ø—Ä–æ–≤–∞–ª–∏–ª–∏—Å—å)
2. **–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç Network tab** –≤ Developer Tools
3. **–õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞** –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–≥—Ä—É–∑–∫–∏

–≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–æ–±–ª–µ–º—ã! üîç