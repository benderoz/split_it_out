<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å—á–µ—Ç–∞</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="app">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
        <header class="header">
            <h1>üí≥ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å—á–µ—Ç–∞</h1>
            <p>–°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä—É–π—Ç–µ —á–µ–∫ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–∏ –ø–æ–∑–∏—Ü–∏–∏</p>
        </header>

        <!-- –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ -->
        <div class="screen" id="uploadScreen">
            <div class="upload-area">
                <div class="upload-icon">üì∏</div>
                <h2>–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ —á–µ–∫–∞</h2>
                <p>–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ç–æ –∏–∑ –≥–∞–ª–µ—Ä–µ–∏ –∏–ª–∏ —Å–¥–µ–ª–∞–π—Ç–µ —Å–Ω–∏–º–æ–∫</p>
                
                <!-- –°–∫—Ä—ã—Ç—ã–µ input —ç–ª–µ–º–µ–Ω—Ç—ã -->
                <input type="file" id="receiptInputGallery" accept="image/*" style="display: none;">
                <input type="file" id="receiptInputCamera" accept="image/*" capture="environment" style="display: none;">
                
                <!-- –ö–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ -->
                <div class="upload-options">
                    <button class="upload-btn" id="galleryBtn">
                        <span class="btn-icon">üñºÔ∏è</span>
                        <span>–ò–∑ –≥–∞–ª–µ—Ä–µ–∏</span>
                    </button>
                    <button class="upload-btn" id="cameraBtn">
                        <span class="btn-icon">üì∑</span>
                        <span>–°–¥–µ–ª–∞—Ç—å —Ñ–æ—Ç–æ</span>
                    </button>
                </div>
            </div>
            
            <div class="receipts-container">
                <div class="receipts-list" id="receiptsList">
                    <!-- –°–ø–∏—Å–æ–∫ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —á–µ–∫–æ–≤ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
                </div>
                <button class="add-receipt-btn" id="addReceiptBtn" style="display: none;">
                    <span>‚ûï</span>
                    <span>–î–æ–±–∞–≤–∏—Ç—å –µ—â–µ —Ñ–æ—Ç–æ</span>
                </button>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —Å –∞–Ω–∞–ª–∏–∑–æ–º —á–µ–∫–∞ -->
        <div class="screen" id="analysisScreen" style="display: none;">
            <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ü–≤–µ—Ç–∞–º–∏ -->
            <div class="color-panel">
                <div class="colors-container">
                    <div class="color-selector active" data-color="#ff6b6b" style="background-color: #ff6b6b;"></div>
                    <div class="color-selector" data-color="#4ecdc4" style="background-color: #4ecdc4;"></div>
                    <div class="color-selector" data-color="#45b7d1" style="background-color: #45b7d1;"></div>
                </div>
                <button class="add-guest-btn" id="addGuestBtn">‚ûï</button>
            </div>

            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —Ñ–æ—Ç–æ —á–µ–∫–∞ -->
            <div class="receipt-container">
                <div class="receipt-image-wrapper">
                    <img id="receiptImage" src="" alt="–ß–µ–∫">
                    <div class="receipt-overlay" id="receiptOverlay">
                        <!-- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                    </div>
                </div>
            </div>

            <!-- –ü–∞–Ω–µ–ª—å —Å –∏—Ç–æ–≥–∞–º–∏ -->
            <div class="summary-panel">
                <h3>–ò—Ç–æ–≥–∏:</h3>
                <div class="summary-list" id="summaryList">
                    <!-- –ò—Ç–æ–≥–∏ –ø–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º -->
                </div>
                <div class="total-amount">
                    <strong>–û–±—â–∞—è —Å—É–º–º–∞: <span id="totalAmount">0</span> ‚ÇΩ</strong>
                </div>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
            <div class="action-buttons">
                <button class="btn btn-secondary" id="backBtn">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
                <button class="btn btn-primary" id="shareBtn">üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ -->
        <div class="loading-screen" id="loadingScreen" style="display: none;">
            <div class="spinner"></div>
            <p>–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —á–µ–∫...</p>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤–≤–æ–¥–∞ –∏–º–µ–Ω–∏ –≥–æ—Å—Ç—è -->
        <div class="modal" id="guestModal" style="display: none;">
            <div class="modal-content">
                <h3>–î–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞</h3>
                <input type="text" id="guestNameInput" placeholder="–ò–º—è —É—á–∞—Å—Ç–Ω–∏–∫–∞" maxlength="20">
                <div class="modal-buttons">
                    <button class="btn btn-secondary" id="cancelGuestBtn">–û—Ç–º–µ–Ω–∞</button>
                    <button class="btn btn-primary" id="confirmGuestBtn">–î–æ–±–∞–≤–∏—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>